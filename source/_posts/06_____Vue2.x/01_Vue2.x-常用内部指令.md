---
title: 一、Vue2-常用内部指令
tags: Vue2.x
categories: Vue2.x
cover: https://gimg2.baidu.com/image_search/src=http%3A%2F%2Fpic4.zhimg.com%2Fv2-db7221c0d7ca752b2f88d7ca94939976_1440w.jpg&refer=http%3A%2F%2Fpic4.zhimg.com&app=2002&size=f9999,10000&q=a80&n=0&g=0n&fmt=jpeg?sec=1645531271&t=ee378fdaea2d7c5a65a295534e38d247
abbrlink: ad55d39f
date: 2019-04-05 00:00:00
---

## 前言：

> vue 作为前端主流的 3 大框架之一，目前在国内有着非常广泛的应用，由于其轻量和自底向上的渐进式设计思想，使其不仅仅被应用于 PC 系统，对于移动端，桌面软件（electronjs）等也有广泛的应用，与此诞生的优秀的开源框架比如 elementUI，iView， ant-design-vue 等也极大的降低了开发者的开发成本，并极大的提高了开发效率。笔者最初接触 vue 时也是使用的 iview 框架，亲生体会之后确实非常易用且强大。

## Hello Wolrd

```html
<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Document</title>
    <script src="https://cdn.bootcdn.net/ajax/libs/vue/2.6.12/vue.min.js"></script>
  </head>
  <body>
    <h1>Hello World</h1>
    <hr />
    <div id="app">{{ message }}</div>
    <script>
      var app = new Vue({
        el: "#app",
        data: {
          message: "hello world",
        },
      });
    </script>
  </body>
</html>
```

## 常用内部指令：

### `v-if`和`v-else`和`v-show`

```html
/* 讲解： v-if和v-else，用来判断是否加载html的dom节点。
v-show，判断html的dom节点显示或者隐藏，通过控制css的display属性 */ /*
应用场景：v-if和v-show的区别
v-if：判断是否加载，可以减轻服务器的压力，在需要时加载
v-show：控制css的dispaly属性，可以使客户端操作更加流畅 */

<div id="app">
  <div v-if="flag">判断是否加载html的dom节点</div>
  <div v-else>判断是否加载html的dom节点</div>
  <div v-show="flag">
    判断html的dom节点显示或者隐藏，通过控制css的display属性
  </div>
</div>
<script>
  new Vue({
    el: "#app",
    data: {
      flag: true,
    },
  });
</script>
```

### `v-for`

```html
/* 讲解： v-for 指令是循环渲染一组 data 中的数组，v-for 指令需要以 item in items
形式的特殊语法， items 是源数据数组并且 item 是数组元素迭代的别名。 */

<div id="app">
  <ul>
    <li v-for="(item,index) in persions" :key="index">{{ item.name }}</li>
  </ul>
</div>
<script>
  new Vue({
    el: "#app",
    data: {
      persions: [
        { id: 1, name: "孙悟空" },
        { id: 2, name: "贝吉塔" },
        { id: 3, name: "特兰克斯" },
      ],
    },
  });
</script>
```

### `v-html`和`v-text`

```html
/* 讲解： 1.我们已经会在 html 中输出 data
中的值了，我们已经用的是{{xxx}},这种情况是有弊端的， 就是当我们网速很慢或者
javascript 出错时，会暴露我们的{{xxx}}。Vue 给我们提供的 v-text,
就是解决这个问题的。我们来看代码： 2.双大括号会将数据解释为纯文本，而非
HTML。为了输出真正的 HTML，你就需要使用 v-html 指令。
需要注意的是：在生产环境中动态渲染 HTML 是非常危险的，因为容易导致`XSS`攻击。
所以只能在可信的内容上使用 v-html，永远不要在用户提交和可操作的网页上使用。 */

<div id="app">
  <span>{{ message }}</span> 等同于 <span v-text="message"></span>
  <span v-html="mesHtml"></span>
</div>

<script>
  new Vue({
    el: "#app",
    data: {
      message: "我是一段话...",
      mesHtml: "<h2>hello vue!</h2>",
    },
  });
</script>
```

### `v-on`

```html
/* 讲解： v-on 就是监听事件，可以用 v-on 指令监听 DOM 事件来触发一些 javascript
代码 */

<div id="app">
  本场比赛得分：{{ count }}
  <hr />
  <button @click="increase">加分</button>，<button @click="decrease">
    减分
  </button>
  <hr />
  <input type="text" @keyup.enter="onEnter" v-model="secondCount" />
</div>
<script>
  new Vue({
    el: "#app",
    data: {
      count: 10,
      secondCount: "1",
    },
    methods: {
      increase() {
        this.count++;
      },
      decrease() {
        this.count--;
      },
      onEnter() {
        this.count = this.count + +this.secondCount;
      },
    },
  });
</script>
```

### `v-modal`

```html
/* 讲解：数据双向绑定指令 */
<div id="app">
  {{ message ]}}<br />
  <input type="text" v-model="message" />
</div>
<script>
  new Vue({
    el: "#app",
    data: {
      message: "你好世界",
    },
  });
</script>
```

### `v-bind`

```html
/* 讲解：动态绑定数据 */
<style>
  .classA {
    background: pink;
  }
  .classB {
    font-size: 18px;
    font-weight: bold;
  }
  .blue {
    background-color: blue;
  }
  .red {
    background-color: red;
  }
</style>
<div id="app">
  <!-- 1.基础用法 -->
  <img :src="imgUrl" alt="" />

  <!-- 2.绑定css样式 -->
  <div :class="className1">绑定clssA</div>
  &nbsp;
  <div :class="className2">绑定clssA & 绑定clssB</div>
  &nbsp;

  <!-- 3.绑定classA进行判断,isOk为true显示样式，在isOk为false不显示样式 -->
  <div :class="{ classA:isOk }">绑定class中的判断</div>
  <button @click="isOk = !isOk">切换</button>&nbsp;

  <!-- 4.绑定class中的数组 -->
  <div :class="[className1,className2]">绑定class中的数组</div>
  &nbsp;

  <!-- 5.绑定class中使用三元表达式判断 -->
  <div :class="isOk?blue:red">绑定class中使用三元表达式判断</div>
  <button @click="isOk = !isOk">切换</button>&nbsp;

  <!-- 6.绑定style -->
  <div :style="{ color: red, fontSize: font }">绑定style</div>

  <!-- 7.用对象绑定style样式 -->
  <div :style="styleObject">用对象绑定style样式</div>
</div>
<script>
  new Vue({
    el: "#app",
    data: {
      imgUrl:
        "https://bkimg.cdn.bcebos.com/pic/4a36acaf2edda3cc7cd9d76304a22e01213fb80e3417?x-bce-process=image/resize,m_lfit,w_268,limit_1/format,f_jpg",
      className1: "classA",
      className2: ["classA", "classB"],
      isOk: true,
      blue: "blue",
      red: "red",
      font: "30px",
      styleObject: {
        fontSize: "24px",
        color: "green",
      },
    },
  });
</script>
```

## 其他内部指令：

### `v-pre`

```html
/* 在模板中跳过 vue 的编译，直接输出原始值。就是在标签中加入 v-pre 就不会输出
vue 中的 data 值了。 */

<div v-pre>{{message}}</div>
// 这时并不会输出我们的message值，而是直接在网页中显示{{message}}
```

### `v-cloak`

```html
/* 在 vue 渲染完指定的整个 DOM 后才进行显示。它必须和 CSS 样式一起使用 */
<style>
  [v-cloak] {
    display: none;
  }
</style>
<div v-cloak>{{ message }}</div>
```

### `v-once`

```html
/* 指令，在第一次 DOM 时进行渲染，渲染完成后视为静态内容，跳出以后的渲染过程。
*/

<div v-once>第一次绑定的值：{{message}}</div>
<div><input type="text" v-model="message" /></div>
<script>
  new Vue({
    el: "#app",
    data: {
      message: "Hello Vue!",
    },
  });
</script>
```

## 修饰符的学习：

> **一、v-model 的修饰符**

### .lazy

```html
// 输入框改变，这个数据就会改变，lazy这个修饰符会在光标离开input框才会更新数据
<input type="text" v-model.lazy="value" />
```

### .trim

```html
// 输入框过滤首尾的空格 <input type="text" v-model.trim="value" />
```

### .number

```html
//
先输入数字就会限制输入只能是数字，先字符串就相当于没有加number，注意，不是输入框不能输入字符串，是这个数据是数字
<input type="text" v-model.number="value" />
```

> **二、事件修饰符**

### .stop

```html
// 阻止事件冒泡，相当于调用了event.stopPropagation()方法：
<input type="text" v-model.number="value" />
```

### .prevent

```html
//
阻止默认行为，相当于调用了event.preventDefault()方法，比如表单的提交、a标签的跳转就是默认事件
<a @click.prevent="test"></a>
```

### .self

```html
//
只有元素本身触发时才触发方法，就是只有点击元素本身才会触发。比如一个div里面有个按钮，
//
div和按钮都有事件，我们点击按钮，div绑定的方法也会触发，如果div的click加上self，
// 只有点击到div的时候才会触发，变相的算是阻止冒泡：
<div @click.self="test"></div>
```

### .once

```html
// 事件只能用一次，无论点击几次，执行一次之后都不会再执行
<div @click.once="test"></div>
```

### .capture

```html
// 事件的完整机制是捕获-目标-冒泡，事件触发是目标往外冒泡
```

### .sync

```html
// 对prop进行双向绑定
```

### .keyCode

```html
// 监听按键的指令，具体可以查看vue的键码对应表
```

### .native

```
// 给子组件绑定构造器里面原生事件
```
