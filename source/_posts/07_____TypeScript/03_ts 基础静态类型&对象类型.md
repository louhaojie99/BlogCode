---
title: 三、ts 基础静态类型&对象类型
tags: TypeScript
categories: TypeScript
cover: 'https://picabstract-preview-ftn.weiyun.com/ftn_pic_abs_v3/fdbe621f6b31fb31333381d541533fe2e8a61025b4acebb1f10c9f948a9ffce78a532557a1a789d30807b98f07b23952?pictype=scale&from=30113&version=3.3.3.3&uin=851681631&fname=10_ts.jpg&size=750'
abbrlink: 5d048693
date: 2020-01-03 00:00:00
---

### ts 基础静态类型&对象类型

- 在 typescript 静态类型分两种，一种是`基础静态类型`，一种是`对象类型`，这两种都经常使用，非常重要。

### 基础静态类型分类

- 注意：语言中定义`类型`有很多种叫法，都是可以的，undefined在ts中也是代表空值，而在js中代表着变量定义未赋值，未定义
- js中原有：
    - `string（字符类型）`
    - `number（数值类型）`
    - `boolean（布尔类型）`
    - `null（空值类型）`
    - `undefined（空值类型）`
    - `symbol（唯一类型）`
- ts中新增：
    - `array（数组类型）`
    - `tuple（元组类型）`
    - `object（对象类型）`
    - `enum（枚举类型）`
    - `unknown（未知类型）`
    - `any（任意类型）`
    - `void（无返回值类型）`
    - `never（永不存在的值的类型）`
    - `|（联合类型）`
    - `=> number（函数类型）`
    - `class（类类型）`

#### 基础静态类型

- 基础静态类型非常简单，只要在声明变量后边加一个 `:`号，然后加上对应的类型哦。

  ```typescript
  let n: string = 'hello ts';
  ```

  ```typescript
  let n: number = 100;		
  ```

  ```typescript
  let n: boolean = true;	
  ```

  ```typescript
  let n: undefined = undefined;	
  ```
  
  ```typescript
  let n: symbol = Symbol('foo');	 // 需要tsconfig.json target: es2015配置
  ```
  

#### 对象类型

1. `array`数组类型，比如现在我们需要很多小姐姐，我们可以这样写

   ```typescript
   let mmArrays : String[] = ['唐嫣', '迪丽热巴', '宋轶'];
   ```

   这时候的意思是，变量`mmArrays`必须是一个数组，数组里的内容必须是字符串。你可以试着把字符串改为数字，`VSCode`会直接给我们报错。

   其他方式如下：

   ```typescript
   let array: number[] = [1, 2, 3, 4, 5];		// 一组数字
   let flags: boolean[] = [true, false];		// 一组布尔值
   ...当然也可以存入函数, 对象等
   ```

   如果数组中有多种类型，比如既有数字类型，又有字符串的时候。很简单，只要加个`()`，然后在里边加上`|`就可以了，具体看代码。

   ```typescript
   const arr: (number | string)[] = [1, "string", 2];
   ```
   
   泛型的写法：
   
   ```typescript
   let array1: Array<number> = [1, 2, 3, 4, 5];
   let array2: Array<string> = ['唐嫣', '杨幂', '迪丽热巴'];
   ...
   ```
   
2. `tuple`元组，元组的概念就是固定长度的数组

    ```typescript
    let h: [string, string] = ['hello', 'ts'];
    ```

3. `object`对象类型，这就是一个经典的对象类型，也是最简单的对象类型。

   ```typescript
   let tangYan: { name: string; age: number } 
   tangYan = { name: '唐嫣', age: 18 };
   ```

   在属性名字后面追加`?`，表示属性是可选的

   ```typescript
   let p: { name: string; sex?: string };
   p = { name: '小花', sex: '男' };		// sex 属性可传可不传
   ```

   除了固定字段之外，可传递任意多参数情况

   ```typescript
   let p: { name: string; [propName: string]: any };
   p = { name: '特兰克斯', age: 20, sex: '男', color: 'white' };
   ```

4. `enum`枚举，类似于字典概念，枚举类型和普通的js对象本质上没有区别，只是对于开发者来说，相较于直接使用值类型去做判断，枚举类型更易读，能够提升代码的可读性和易维护性。

   - 枚举的成员是有值的，默认从0开始自增
   - 也可以设置指定的值
   - 枚举中的成员只能访问，不能赋值

   ```typescript
   enum Gender {
       Male   = '男',
       Female = '女',
   }
   let person = { name: string, sex: Gender };
   person = {
       name: "特兰克斯",
       sex: Gender.Male
   };
   ```

5. `unknown`未知类型，表示未知类型的值，unknown类型的变量，不能直接赋值给其他变量

    ```typescript
    let unk1 = unknown
    let unk2: number = 10000
    
    unk1 = 800
    unk2 = unk1		// 不能直接赋值给其他变量
    ```

6. `any`任意类型，表示的是任意类型，一个变量设置类型为any后相当于对该变量关闭了TS类型检测

   ```typescript
   let n: any
   n = 10
   n = 'hello'
   n = true
   n = []
   n = {}
   n = function () {}
   // 可以任意改变, 尽量避免使用
   ```

7. `void`无返回值，TS中函数无返回值，void 用来表示空，以函数为例，就表示没有返回值函数

     ```typescript
     function func(): void {
     	console.log("你好世界");
     	// return 10000  // 不能有返回值，会报错
         // return返回null或者undefined ts会认为就是返回空值, 不会报错
         return null
     }
     ```

8. `never`永不存在的值的类型，类型表示永远不会有值的一种类型(很抽象是不是)

   - never类型是那些总是会抛出异常或根本就不会有返回值的函数
   - 表达式或箭头函数表达式的返回值类型

   ```typescript
   // 因为总是抛出异常，所以 error 将不会有返回值
   function funv(): never {
       throw new Error('报错了!') // 抛出异常
   }
   
   // 因为存在死循环，所以 infiniteLoop 将不会有返回值
   function infiniteLoop(): never {
       while (true) {
           console.log("你好世界");
       }
   }
   ```

9. `|`（联合类型），或者，多条件

   ```typescript
   let n: number | string;		// n变量既可以保存number类型也可以保存string类型
   n = 999
   n = '中国'
   ```

10. `函数类型`，就是函数返回值也可以规定一个返回值类型

    ```typescript
    let func: () => string;
    func = () => {
    	return "迪丽热巴";
    }
    ```
    
11. `class 类类型`，现在都讲究面向对象编程，我这面向对象编程怎么多年了，依旧还是单身。

      ```typescript
      class Person {}
      const mm: Person = new Person();
      ```

      这个意思就是`mm`必须是一个`Person`类对应的对象才可以。我们还可以定义一个函数类型，并确定返回值。代码如下：

**总结：**`对象类型`，`数组类型`，`类类型`，`函数类型`，这几种形式在<span style="color: #ff0000;">TypeScript</span>里叫做对象类型。

#### 扩展

> 数组中对象类型的定义

如果你作过一些项目，你就会知道真实的项目中数组中一定会有对象的出现。那对于这类带有对象的数组定义就稍微麻烦点了。 比如现在我们要定义一个有很多小姐姐的数组，每一个小姐姐都是一个对象。这是的定义就编程了这样。

```typescript
const xiaoJieJies: { name: string, age: Number }[] = [
  { name: "刘英", age: 18 },
  { name: "谢大脚", age: 28 },
];
```

这种形式看起来比较麻烦，而且如果有同样类型的数组，写代码也比较麻烦，TypeScript 为我们准备了一个概念，叫做`类型别名`(type alias)。

比如刚才的代码，就可以定义一个`类型别名`，定义别名的时候要以`type`关键字开始。现在定义一个`Lady`的别名。

```typescript
type Lady = { name: string, age: Number };
```

有了这样的类型别名以后哦，就可以把上面的代码改为下面的形式了。

```typescript
type Lady = { name: string, age: Number };

const xiaoJieJies: Lady[] = [
  { name: "刘英", age: 18 },
  { name: "谢大脚", age: 28 },
];
```

这样定义是完全起作用的，比如我们下面在对象里再加入一个属性，这时候编译器就会直接给我们报错了。

这时候有的小伙伴就会问了，我用类进行定义可以吗？答案是可以的，比如我们定义一个`Madam`的类,然后用这个类来限制数组的类型也是可以的。

```typescript
class Madam {
  name: string;
  age: number;
}

const xiaoJieJies: Madam[] = [
  { name: "刘英", age: 18 },
  { name: "谢大脚", age: 28 },
];
```

可以看到结果，我们这么写也是完全可以的。
